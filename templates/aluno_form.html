{% extends "layout.html" %}

{% block title %}
  {% if aluno %}Editar Aluno{% else %}Novo Aluno{% endif %}
{% endblock %}

{% block content %}
  <h1 class="mb-4">
    {% if aluno %}Editar Aluno{% else %}Cadastrar Novo Aluno{% endif %}
  </h1>
  <form method="post">
    <div class="mb-3">
      <label for="nome" class="form-label">Nome</label>
      <input type="text" class="form-control" id="nome" name="nome" value="{{ aluno.nome if aluno else '' }}" required>
    </div>
    <div class="mb-3">
      <label for="categoria" class="form-label">Categoria</label>
      <select class="form-select" id="categoria" name="categoria" required>
        <option value="infantil" {% if aluno and aluno.categoria == 'infantil' %}selected{% endif %}>Infantil</option>
        <option value="adulto" {% if aluno and aluno.categoria == 'adulto' %}selected{% endif %}>Adulto</option>
      </select>
    </div>
    <div class="mb-3">
      <label for="idade" class="form-label">Idade</label>
      <input type="number" class="form-control" id="idade" name="idade" value="{{ aluno.idade if aluno else '' }}" required>
    </div>
    <div class="mb-3">
      <label for="faixa_cor" class="form-label">Cor da Faixa</label>
      <input type="text" class="form-control" id="faixa_cor" name="faixa_cor" value="{{ aluno.faixa_cor if aluno else '' }}" required>
    </div>
    <div class="mb-3">
      <label for="faixa_grau" class="form-label">Grau da Faixa</label>
      <input type="text" class="form-control" id="faixa_grau" name="faixa_grau" value="{{ aluno.faixa_grau if aluno else '' }}" required>
    </div>
    <div class="mb-3">
      <label for="email" class="form-label">Email</label>
      <input type="email" class="form-control" id="email" name="email" value="{{ aluno.email if aluno else '' }}">
    </div>
    <div class="mb-3">
      <label for="data_entrada" class="form-label">Data de Entrada (dd/mm/aaaa)</label>
      <input type="text" class="form-control" id="data_entrada" name="data_entrada" placeholder="dd/mm/aaaa" value="{{ aluno.data_entrada.strftime('%d/%m/%Y') if aluno else '' }}" required>
    </div>
    <div class="mb-3">
      <label for="data_pagamento" class="form-label">Data de Pagamento (dd/mm/aaaa)</label>
      <input type="text" class="form-control" id="data_pagamento" name="data_pagamento" placeholder="dd/mm/aaaa" value="{{ aluno.data_pagamento.strftime('%d/%m/%Y') if aluno else '' }}" required>
    </div>
    <button type="submit" class="btn btn-success">Salvar</button>
    <a href="{{ url_for('listar_alunos') }}" class="btn btn-secondary">Cancelar</a>
  </form>
{% endblock %}
